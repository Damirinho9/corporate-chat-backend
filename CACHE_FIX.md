# ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫—ç—à–µ–º –±—Ä–∞—É–∑–µ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–í–∞—à –±—Ä–∞—É–∑–µ—Ä **–∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é** JavaScript –∫–æ–¥–∞. –ü–æ—ç—Ç–æ–º—É –Ω–æ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

## –†–µ—à–µ–Ω–∏–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —à–∞–≥–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É!)

### 1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥

```bash
cd ~/corporate-chat-backend
git pull
npm start
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[2025-10-31T12:XX:XX.XXXZ] INFO [server] Server listening on port 3000
```

### 2. –í –±—Ä–∞—É–∑–µ—Ä–µ: –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à

**–í–∞—Ä–∏–∞–Ω—Ç –ê: Hard Refresh (–±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
2. –ù–∞–∂–º–∏—Ç–µ **Ctrl + Shift + R** (Windows/Linux) –∏–ª–∏ **Cmd + Shift + R** (Mac)
3. –ò–ª–∏ **Ctrl + F5** (Windows/Linux)

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ (–µ—Å–ª–∏ A –Ω–µ –ø–æ–º–æ–≥–ª–æ)**

**Chrome/Edge:**
1. F12 ‚Üí –û—Ç–∫—Ä–æ–π—Ç–µ DevTools
2. **–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫** –Ω–∞ –∫–Ω–æ–ø–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (‚ü≥) —Ä—è–¥–æ–º —Å –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π
3. –í—ã–±–µ—Ä–∏—Ç–µ **"–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –∏ –∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞"** (Empty Cache and Hard Reload)

**Firefox:**
1. Ctrl + Shift + Delete
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ö—ç—à"
3. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å —Å–µ–π—á–∞—Å"
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –∏ **–≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–¥–ø–∏—Å—å:

```
üöÄ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —á–∞—Ç v2.0.0-chat-fix
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —á–∞—Ç–æ–≤, –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç—É –Ω–∞–¥–ø–∏—Å—å** - –≤—Å—ë –û–ö, –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞! ‚úÖ

**–ï—Å–ª–∏ –ù–ï –≤–∏–¥–∏—Ç–µ** - –∫—ç—à –Ω–µ –æ—á–∏—Å—Ç–∏–ª—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:
- –û—Ç–∫—Ä—ã—Ç—å –≤ **—Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ** (Ctrl + Shift + N)
- –ò–ª–∏ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —á–∞—Ç–æ–≤

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π –∫–æ–Ω—Ç–∞–∫—Ç
2. –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:

```
[openDirectChat] –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º: {userId: 3, ...}
[openDirectChat] –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: 200
[openDirectChat] –û—Ç–≤–µ—Ç –æ—Ç API: {message: 'Chat already exists', chatId: 22, isNew: false}
[openDirectChat] –ß–∞—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ—Ç–∫—Ä—ã—Ç–∏–µ: 22          ‚Üê –≠–¢–û –ù–û–í–û–ï!
[openDirectChat] –î–æ—Å—Ç—É–ø–Ω—ã–µ —á–∞—Ç—ã: [{id: 1, ...}, ...]      ‚Üê –≠–¢–û –ù–û–í–û–ï!
[openDirectChat] –ß–∞—Ç –Ω–∞–π–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ: {id: 22, ...}       ‚Üê –≠–¢–û –ù–û–í–û–ï!
[openChat] –û—Ç–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–∞: 22                               ‚Üê –≠–¢–û –ù–û–í–û–ï!
[openChat] –¢–∏–ø chatId: number                              ‚Üê –≠–¢–û –ù–û–í–û–ï!
[loadMessages] –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è chatId: 22          ‚Üê –≠–¢–û –ù–û–í–û–ï!
[loadMessages] –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: 200                          ‚Üê –≠–¢–û –ù–û–í–û–ï!
[openChat] –ß–∞—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã—Ç                              ‚Üê –≠–¢–û –ù–û–í–û–ï!
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å "–≠–¢–û –ù–û–í–û–ï!"** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

**–ï—Å–ª–∏ –ù–ï –≤–∏–¥–∏—Ç–µ** - –∫—ç—à –≤—Å–µ –µ—â–µ –Ω–µ –æ—á–∏—Å—Ç–∏–ª—Å—è.

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã

```bash
npm test
```

–î–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –≤—Å–µ 30 —Ç–µ—Å—Ç–æ–≤ (100%).

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

### –ü–ª–∞–Ω –ë: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ - –¥–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤–µ—Ä—Å–∏–∏ –∫ URL
# –ò–∑–º–µ–Ω–∏—Ç–µ –≤ index.html —Å—Ç—Ä–æ–∫—É socket.io –Ω–∞:
<script src="https://cdn.socket.io/4.5.4/socket.io.min.js?v=2"></script>
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º:
```
http://your-site.com/?nocache=1
```

### –ü–ª–∞–Ω –í: –û—Ç–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í `server.js` –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥ `app.use(express.static(...)`:

```javascript
app.use((req, res, next) => {
    res.setHeader('Cache-Control', 'no-cache, no-store, must-revalidate');
    res.setHeader('Pragma', 'no-cache');
    res.setHeader('Expires', '0');
    next();
});
```

## –ß–µ–∫–ª–∏—Å—Ç

- [ ] –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`git pull`)
- [ ] –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (`npm start`)
- [ ] –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –æ—á–∏—â–µ–Ω (Hard Refresh)
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω–∞ –≤–µ—Ä—Å–∏—è `v2.0.0-chat-fix`
- [ ] –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –ª–æ–≥–∏
- [ ] –ß–∞—Ç—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`npm test`)

–ï—Å–ª–∏ –≤—Å–µ –≥–∞–ª–æ—á–∫–∏ —Å—Ç–æ—è—Ç - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤ –ø—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ:

1. **–°–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª–∏** —Å –≤–µ—Ä—Å–∏–µ–π (–ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)
2. **–õ–æ–≥–∏** –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å [openDirectChat], [openChat], [loadMessages])
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç** `npm test`

–Ø –ø—Ä–æ–≤–µ—Ä—é —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
